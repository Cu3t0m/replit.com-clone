(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{20:function(e,t,a){a("j36g"),e.exports=a("m87k")},"W/yk":function(e,t,a){"use strict";var n=a("CxY0");t.a=function(e,t){var a=e.host,i=e.protocol,o=t?Object(n.parse)(t,!0):{query:{},pathname:"/"},r=o.query,s=o.pathname;return Object(n.format)({protocol:i,host:a,pathname:s,query:r})}},m87k:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return a("qIq5")}])},mImh:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("p0XB"),i=a.n(n);function o(e,t){if(!e)return null;var a=e[t];return a?i()(a)?null:a:null}},qIq5:function(e,t,a){"use strict";a.r(t);var n=a("ln6h"),i=a.n(n),o=a("0iUn"),r=a("sLSF"),s=a("MI3g"),c=a("a7VT"),l=a("AT/M"),h=a("Tit0"),u=a("vYYK"),p=a("LX0d"),d=a.n(p),m=a("MX0m"),g=a.n(m),f=a("q1tI"),x=a.n(f),w=a("nOHt"),b=a.n(w),k=a("/MKj"),j=a("2SQs"),v=a.n(j),y=a("YFqc"),O=a.n(y),N=a("RVZx"),q=a("RwKQ"),L=f.createElement,T=function(e){var t=e.title;return L("header",{className:"jsx-3975438191 auth-header"},L("div",{className:"jsx-3975438191 auth-header-logo"},L("div",{className:"jsx-3975438191"},L(O.a,{href:"/"},L("a",{className:"jsx-3975438191 auth-header-logo-link"},L(q.a,null))))),L("div",{className:"jsx-3975438191 auth-header-title"},t),L(g.a,{id:"3975438191"},[".auth-header.jsx-3975438191{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 25px;background-color:rgb(244,244,244);border-bottom:1px solid rgb(228,228,228);height:60px;}",".auth-header-logo-link.jsx-3975438191{display:block;width:auto;height:28px;color:var(--color-foreground-1);overflow:hidden;-webkit-text-decoration:none;text-decoration:none;}",".auth-header-logo.jsx-3975438191,.auth-header-nav.jsx-3975438191{width:70px;}",".auth-header-title.jsx-3975438191{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;font-weight:normal;color:rgb(153,153,153);font-size:130%;}","@media (min-width:400px){.auth-header-logo-link.jsx-3975438191{width:116px;}}"]))},S=function(e){var t=e.heading,a=e.subHeading;return L("div",{className:"jsx-2149188480 auth-welcome-header"},L("div",{className:"jsx-2149188480 auth-welcome-heading"},t),a&&L("div",{className:"jsx-2149188480 auth-welcome-subheading"},a),L(g.a,{id:"2149188480"},[".auth-welcome-header.jsx-2149188480{width:100%;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;background-color:rgb(81,146,179);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:200px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:20px;}",".auth-welcome-heading.jsx-2149188480{font-size:44px;color:rgb(255,255,255);font-weight:100;white-space:nowrap;width:75%;overflow:hidden;text-overflow:ellipsis;text-align:center;}",".auth-welcome-subheading.jsx-2149188480{font-size:20px;font-weight:400;margin-top:5px;color:rgba(255,255,255,0.5);}"]))},I=function(e){var t=e.children,a=e.title,n=e.description,i=e.image;return L(N.a,{title:a,description:n,image:i,style:{paddingTop:0},noFooter:!0,noHeader:!0},L(T,{title:a}),L("div",{className:"jsx-3112361673 auth-layout-content"},t),L(g.a,{id:"3112361673"},[".auth-layout-content.jsx-3112361673{min-height:100vh;padding-top:60px;margin-top:-60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))},M=a("2tbh"),C=a("ArsQ"),P=a("3gM7"),U=function(){return{href:"/home",as:"/~"}},A=a("W/yk"),E=a("mImh"),_=x.a.createElement,X=new d.a([["staging.repl.it","staging.replit.com"],["staging.replit.com","staging.repl.it"],["repl.it","replit.com"],["replit.com","repl.it"],["localhost:3000","auth-token-through.kochman.repl.co"],["replit.dev","auth-token-through.kochman.repl.co"]]),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i))),Object(u.a)(Object(l.a)(a),"handleSubmit",(function(e){if("error"in e&&e.error)a.props.showMessage({content:e.error,type:"error",time:3e3});else{if(!("user"in e&&e.user))throw new Error("Expected error or user object");var t=a.state.isLogin;a.props.showMessage({content:"".concat(t?"Login":"Signup"," Successful"),type:"confirm",time:2e3});var n=a.props.router.query,i=t&&!e.social||e.social&&!e.newUser,o=Object(E.a)(n,"goto"),r=X.get(window.location.host);if(t&&!e.social&&e.user.authToken&&r){var s="https://".concat(r,"/auth/token?authToken=").concat(e.user.authToken,"&redirect=");if(o)s+=encodeURIComponent(Object(A.a)(window.location,o));else{var c=U().as;s+=encodeURIComponent(window.location.origin+c)}window.location.href=s}else{if(i){if(o)window.location.href=Object(A.a)(window.location,o);else{var l=U(),h=l.href,u=l.as;b.a.push(h,u)}return}window.location.href=o?Object(A.a)(window.location,o):"/~?onboarding=1"+("landing"===b.a.query.from?"&from=landing":"")}}})),Object(u.a)(Object(l.a)(a),"handleChangeAuth",(function(){var e=a.props.router.query;a.setState((function(e){return{isLogin:!e.isLogin}}),(function(){var t=a.state.isLogin?"/login":"/signup";b.a.push({pathname:"/auth",query:e},{pathname:t,query:e},{shallow:!0})}))})),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.router.asPath;if(e){var t=e.includes("/login");this.setState({isLogin:t})}}},{key:"render",value:function(){var e=v()(this.props.router.query,"path"),t="teacher"in e,a=e,n=a.title,i=a.description,o=a.image,r=this.state.isLogin?"Log In":"Sign Up";return _(I,{title:n||r,description:i,image:o},e.classroomName&&_(S,{heading:"Welcome To ".concat(e.classroomName),subHeading:"Please Login or Signup to enroll in the classroom"}),_(M.a,{email:e.email,isLogin:this.state.isLogin,isTeacher:t,onSubmit:this.handleSubmit,onChangeAuth:this.handleChangeAuth,privacyInvite:e.invite,randomUsername:e.randomUsername}),_("div",{className:"jsx-1690702153 hcaptcha-disclaimer"},_("p",{className:"jsx-1690702153"},"This site is protected by hCaptcha and its"," ",_("a",{href:"https://hcaptcha.com/privacy",className:"jsx-1690702153"},"Privacy Policy")," and"," ",_("a",{href:"https://hcaptcha.com/terms",className:"jsx-1690702153"},"Terms of Service")," apply.")),_(g.a,{id:"1690702153"},[".hcaptcha-disclaimer.jsx-1690702153{font-size:14px;max-width:280px;height:60px;text-align:center;}"]))}}],[{key:"getInitialProps",value:function(e){var t,a,n;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.req,a=e.store,t){o.next=7;break}return o.next=4,i.a.awrap(Object(P.a)(t,a));case 4:n=o.sent,n.user&&b.a.replace("/replsDashboard",{pathname:"/repls"});case 7:return o.abrupt("return",{});case 8:case"end":return o.stop()}}))}}]),t}(x.a.Component);t.default=Object(k.c)(null,{showMessage:C.b})(z)}},[[20,2,1,4,0,3,5,6,7,8,20]]]);
//# sourceMappingURL=auth.js.map